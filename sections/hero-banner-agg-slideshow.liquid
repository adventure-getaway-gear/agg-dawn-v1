{% comment %} hero-banner-agg-slideshow v1.1 polished carousel (responsive srcset, a11y, keyboard + swipe, configurable speed) 2025-08-11 {% endcomment %}
{%- liquid
  assign s = section.settings
  assign overlay_opacity = s.overlay_opacity | divided_by: 100.0
  assign flex_align = 'center'
  if s.text_align == 'left'
    assign flex_align = 'flex-start'
  elsif s.text_align == 'right'
    assign flex_align = 'flex-end'
  endif
-%}
<!-- Hero Slideshow Section -->
<section id="hero-slideshow-{{ section.id }}" class="hero-banner-agg hero-banner-agg--slideshow" role="banner" aria-label="{{ s.section_aria | default: s.headline | escape }}" style="position:relative;overflow:hidden;margin-top:{{ s.top_spacing | default: 0 }}px;touch-action:pan-y;-webkit-user-select:none;user-select:none;" data-slide-count="{{ section.blocks.size }}">
  <style>
  .hero-banner-agg--slideshow{--hb-height:{{ s.image_height }}px;--transition-speed:{{ s.transition_speed | default: 800 }}ms}
  @media (max-width:749px){.hero-banner-agg--slideshow{--hb-height:{{ s.mobile_height | default: s.image_height }}px}}
    .hero-banner-agg--slideshow .hero-banner-agg__media,.hero-banner-agg--slideshow .hero-banner-agg__slideshow{position:relative;width:100%;height:var(--hb-height)}
    .hero-banner-agg__slideshow{overflow:hidden}
    .hero-banner-agg__slides{position:absolute;inset:0;margin:0;padding:0;list-style:none}
    .hero-banner-agg__slide{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-speed) ease;will-change:opacity}
    .hero-banner-agg__slide.is-active{opacity:1;}
    .hero-banner-agg__slide img{width:100%;height:100%;object-fit:cover;display:block}
  /* Per-slide independent positioned pieces */
  .hero-banner-agg__slidePiece{position:absolute;z-index:16;display:flex;flex-direction:column;gap:.55rem;max-width:var(--maxw,{{ s.text_max_width }}ch);padding:0;margin:0}
  /* When slide is fully linked we add .is-passive to allow underlying link clicks */
  .hero-banner-agg__slidePiece.is-passive{pointer-events:none}
  .hero-banner-agg__pieceHeadline{color:var(--headline-color,#fff);font-weight:700;line-height:1.1;margin:0;font-size:var(--headline-size,clamp(1.6rem,3.4vw,{{ s.headline_size }}px));text-shadow:0 2px 4px rgba(0,0,0,.55);}
  .hero-banner-agg__pieceSub{color:var(--sub-color,#fff);margin:0;font-size:var(--sub-size,clamp(1rem,1.6vw,{{ s.subheadline_size }}px));line-height:1.45;text-shadow:0 2px 4px rgba(0,0,0,.55);}
  .hero-banner-agg__slideButtons{display:flex;flex-wrap:wrap;gap:.85rem;margin-top:.35rem}
  .hero-banner-agg__slideBtn{background:{{ s.cta_bg }};color:{{ s.cta_color }};padding:var(--btn-pad-y,.85rem) var(--btn-pad-x,1.6rem);border-radius:{{ s.button_radius }}px;font-weight:600;text-decoration:none;font-size:var(--btn-font,.95rem);line-height:1;box-shadow:0 2px 4px rgba(0,0,0,.35);transition:background .3s ease,opacity .3s ease,transform .25s ease;display:inline-flex;align-items:center;justify-content:center;min-width:140px}
  .hero-banner-agg__slideBtn[data-size="small"]{--btn-pad-y:.6rem;--btn-pad-x:1.2rem;--btn-font:.85rem;min-width:120px}
  .hero-banner-agg__slideBtn[data-size="large"]{--btn-pad-y:1.2rem;--btn-pad-x:2.4rem;--btn-font:1.1rem;min-width:190px}
  .hero-banner-agg__slideBtn:active{transform:scale(.97)}
  /* 9-point positioning utility classes */
  .pos-tl{top:{{ s.padding_vertical }}px;left:{{ s.padding_horizontal }}px;text-align:left}
  .pos-tc{top:{{ s.padding_vertical }}px;left:50%;transform:translateX(-50%);text-align:center}
  .pos-tr{top:{{ s.padding_vertical }}px;right:{{ s.padding_horizontal }}px;text-align:right}
  .pos-ml{top:50%;left:{{ s.padding_horizontal }}px;transform:translateY(-50%);text-align:left}
  .pos-mc{top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}
  .pos-mr{top:50%;right:{{ s.padding_horizontal }}px;transform:translateY(-50%);text-align:right}
  .pos-bl{bottom:{{ s.padding_vertical }}px;left:{{ s.padding_horizontal }}px;text-align:left}
  .pos-bc{bottom:{{ s.padding_vertical }}px;left:50%;transform:translateX(-50%);text-align:center}
  .pos-br{bottom:{{ s.padding_vertical }}px;right:{{ s.padding_horizontal }}px;text-align:right}
  @media (max-width:749px){
    .hero-banner-agg__pieceHeadline{font-size:var(--headline-size-m,clamp(1.4rem,5.5vw,{{ s.headline_size | divided_by: 1.6 }}px));}
    .hero-banner-agg__pieceSub{font-size:var(--sub-size-m,clamp(.9rem,3.8vw,{{ s.subheadline_size | divided_by: 1.1 }}px));}
  }
  .hero-banner-agg__slideBtn[data-variant="secondary"]{background:{{ s.cta2_bg }};color:{{ s.cta2_color }}}
  .hero-banner-agg__slideBtn[data-variant="ghost"]{background:rgba(0,0,0,.45);color:#fff}
  .hero-banner-agg__slideBtn:hover{opacity:.85}
  .hero-banner-agg__navBtn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.45);color:#fff;border:0;padding:.65rem .9rem;cursor:pointer;font-size:14px;line-height:1;border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:15}
    .hero-banner-agg__navBtn:hover{background:rgba(0,0,0,.65)}
    .hero-banner-agg__navBtn:focus{outline:2px solid #fff}
    .hero-banner-agg__navPrev{left:10px}
    .hero-banner-agg__navNext{right:10px}
  .hero-banner-agg__dots{position:absolute;left:50%;bottom:12px;transform:translateX(-50%);display:flex;gap:8px;align-items:center;justify-content:center;z-index:15}
  .hero-banner-agg__dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,.35);cursor:pointer;border:2px solid rgba(0,0,0,.25);box-shadow:0 0 0 2px rgba(0,0,0,.15);transition:background .3s ease,border-color .3s ease}
    .hero-banner-agg__dot.is-active{background:#fff;}
  .hero-banner-agg__dot:focus{outline:2px solid #fff;outline-offset:2px}
  .hero-banner-agg__progress{position:absolute;left:0;bottom:0;width:100%;height:{{ s.progress_bar_height | default: 4 }}px;background:rgba(255,255,255,.25);overflow:hidden;z-index:17}
  .hero-banner-agg__progressFill{display:block;width:100%;height:100%;background:{{ s.progress_bar_color | default: '#ffffff' }};transform:scaleX(0);transform-origin:left center;will-change:transform}
    @media (prefers-reduced-motion:reduce){.hero-banner-agg__slide{transition:none}}
  </style>
  {% if section.blocks.size > 0 %}
    <div class="hero-banner-agg__slideshow" data-autoplay="{{ s.slideshow_autoplay }}" data-interval="{{ s.slideshow_interval | times: 1000 }}" data-transition="{{ s.slideshow_transition }}" aria-roledescription="carousel">
      <ul class="hero-banner-agg__slides" aria-live="polite">
        {% for block in section.blocks %}
          {% assign b = block.settings %}
          {% assign slide_id = 'slide-' | append: section.id | append: '-' | append: forloop.index0 %}
          {%- comment -%} Boolean assignments rewritten via if blocks to avoid Shopify parser error with inline comparisons {%- endcomment -%}
          {% assign has_cta_primary = false %}
          {% if b.slide_cta_text != blank and b.slide_cta_link != blank %}{% assign has_cta_primary = true %}{% endif %}
          {% assign has_cta_secondary = false %}
          {% if b.slide_cta2_text != blank and b.slide_cta2_link != blank %}{% assign has_cta_secondary = true %}{% endif %}
          {% assign any_cta = false %}
          {% if has_cta_primary or has_cta_secondary %}{% assign any_cta = true %}{% endif %}
          {% assign wrap_slide_link = false %}
          {% if b.slide_link != blank and any_cta == false %}{% assign wrap_slide_link = true %}{% endif %}
          <li id="{{ slide_id }}" class="hero-banner-agg__slide{% if forloop.first %} is-active{% endif %}" data-index="{{ forloop.index0 }}" data-duration="{{ b.slide_duration | default: s.slideshow_interval | times: 1000 }}" role="group" aria-roledescription="slide" aria-label="Slide {{ forloop.index }} of {{ section.blocks.size }}" {{ block.shopify_attributes }}>
            {% if wrap_slide_link %}<a href="{{ b.slide_link }}" style="display:block;position:absolute;inset:0;" tabindex="-1" aria-label="{{ b.slide_alt | default: s.image_alt | escape }}">{% endif %}
              {% if b.slide_image %}
                {% assign widths = '400,600,800,1200,1600,2048' | split: ',' %}
                {% capture srcset %}{% for w in widths %}{{ b.slide_image | image_url: width: w | append: ' ' | append: w | append: 'w' }}{% unless forloop.last %}, {% endunless %}{% endfor %}{% endcapture %}
                {% if forloop.first %}<link rel="preload" as="image" href="{{ b.slide_image | image_url: width: 1600 }}">{% endif %}
                <img
                  id="hero-slide-img-{{ section.id }}-{{ forloop.index0 }}"
                  src="{{ b.slide_image | image_url: width: 1600 }}"
                  srcset="{{ srcset | strip }}"
                  sizes="100vw"
                  alt="{{ b.slide_alt | default: s.image_alt | default: s.subheadline | default: s.headline | escape }}"
                  loading="{% if forloop.first %}eager{% else %}lazy{% endif %}"
                  fetchpriority="{% if forloop.first %}high{% else %}auto{% endif %}"
                  decoding="async"
                  style="width:100%;height:100%;object-fit:cover;display:block;" />
              {% else %}
                <div style="background:#222;width:100%;height:100%;"></div>
              {% endif %}
            {% if wrap_slide_link %}</a>{% endif %}
            {% if s.enable_overlay %}<div class="hero-banner-agg__overlay" style="position:absolute;inset:0;background:{{ s.overlay_color }};opacity:{{ overlay_opacity }};pointer-events:none;"></div>{% endif %}
            {%- assign headline_pos = b.headline_position | default: 'mc' -%}
            {%- assign sub_pos = b.subheadline_position | default: headline_pos -%}
            {%- assign ctas_pos = b.ctas_position | default: headline_pos -%}
            {%- if b.slide_headline != blank -%}
              <div class="hero-banner-agg__slidePiece pos-{{ headline_pos }}{% if wrap_slide_link %} is-passive{% endif %}" style="--headline-color:{{ b.headline_color | default: s.headline_color }};--headline-size:{% if b.headline_size > 0 %}{{ b.headline_size }}px{% endif %};--headline-size-m:{% if b.headline_size > 0 %}{{ b.headline_size | divided_by: 1.6 }}px{% endif %};--maxw:{% if b.max_width_ch > 0 %}{{ b.max_width_ch }}ch{% endif %};">
                <h3 class="hero-banner-agg__pieceHeadline">{{ b.slide_headline }}</h3>
              </div>
            {%- endif -%}
            {%- if b.slide_subheadline != blank -%}
              <div class="hero-banner-agg__slidePiece pos-{{ sub_pos }}{% if wrap_slide_link %} is-passive{% endif %}" style="--sub-color:{{ b.subheadline_color | default: s.subheadline_color }};--sub-size:{% if b.subheadline_size > 0 %}{{ b.subheadline_size }}px{% endif %};--sub-size-m:{% if b.subheadline_size > 0 %}{{ b.subheadline_size | divided_by: 1.1 }}px{% endif %};--maxw:{% if b.max_width_ch > 0 %}{{ b.max_width_ch }}ch{% endif %};">
                <p class="hero-banner-agg__pieceSub">{{ b.slide_subheadline }}</p>
              </div>
            {%- endif -%}
            {%- if any_cta -%}
              <div class="hero-banner-agg__slidePiece pos-{{ ctas_pos }}{% if wrap_slide_link %} is-passive{% endif %}" style="--maxw:{% if b.max_width_ch > 0 %}{{ b.max_width_ch }}ch{% endif %};">
                <div class="hero-banner-agg__slideButtons" style="justify-content:{% if b.ctas_inline_align == 'start' %}flex-start{% elsif b.ctas_inline_align == 'end' %}flex-end{% else %}center{% endif %};">
                  {% if has_cta_primary %}
                    <a href="{{ b.slide_cta_link }}" class="hero-banner-agg__slideBtn" data-variant="{{ b.slide_cta_variant }}" data-size="{{ b.cta_size }}">{{ b.slide_cta_text }}</a>
                  {% endif %}
                  {% if has_cta_secondary %}
                    <a href="{{ b.slide_cta2_link }}" class="hero-banner-agg__slideBtn" data-variant="{{ b.slide_cta2_variant }}" data-size="{{ b.cta_size }}">{{ b.slide_cta2_text }}</a>
                  {% endif %}
                </div>
              </div>
            {%- endif -%}
          </li>
        {% endfor %}
      </ul>
      {% if s.show_nav and section.blocks.size > 1 %}
        <button type="button" class="hero-banner-agg__navBtn hero-banner-agg__navPrev" aria-label="Previous slide" data-prev>&lsaquo;</button>
        <button type="button" class="hero-banner-agg__navBtn hero-banner-agg__navNext" aria-label="Next slide" data-next>&rsaquo;</button>
      {% endif %}
      {% if s.show_dots and section.blocks.size > 1 %}
        <div class="hero-banner-agg__dots" role="tablist">
          {% for block in section.blocks %}
            {% assign slide_id = 'slide-' | append: section.id | append: '-' | append: forloop.index0 %}
            <button type="button" class="hero-banner-agg__dot{% if forloop.first %} is-active{% endif %}" role="tab" aria-selected="{% if forloop.first %}true{% else %}false{% endif %}" aria-controls="{{ slide_id }}" aria-label="Go to slide {{ forloop.index }}" data-dot="{{ forloop.index0 }}"></button>
          {% endfor %}
        </div>
      {% endif %}
      <div class="visually-hidden" aria-live="polite" data-carousel-announcer></div>
      {% if s.show_progress_bar and section.blocks.size > 1 %}
        <div class="hero-banner-agg__progress" aria-hidden="true"><span class="hero-banner-agg__progressFill"></span></div>
      {% endif %}
    </div>
  {% else %}
    <div class="hero-banner-agg__media" style="position:relative;width:100%;height:{{ s.image_height }}px;">
      {% if s.hero_image %}
        {%- assign image = s.hero_image -%}
        <img src="{{ image | img_url: '1600x' }}" alt="{{ s.image_alt | default: s.headline | escape }}" loading="lazy" style="width:100%;height:100%;object-fit:cover;display:block;" />
        {% if s.enable_overlay %}
          <div class="hero-banner-agg__overlay" style="position:absolute;inset:0;background:{{ s.overlay_color }};opacity:{{ overlay_opacity }};pointer-events:none;"></div>
        {% endif %}
      {% else %}
        <div style="background:#222;height:100%;width:100%;"></div>
      {% endif %}
    </div>
  {% endif %}
  <div class="hero-banner-agg__inner" style="position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:{{ flex_align }};text-align:{{ s.text_align }};padding:{{ s.padding_vertical }}px {{ s.padding_horizontal }}px;gap:1rem;">
  <h1 itemprop="headline" style="margin:0;color:{{ s.headline_color }};font-size:{{ s.headline_size }}px;line-height:1.1;font-weight:700;max-width:{{ s.text_max_width }}ch;">{{ s.headline }}</h1>
    {% if s.subheadline != blank %}
      <p style="margin:0 0 0.5rem 0;color:{{ s.subheadline_color }};font-size:{{ s.subheadline_size }}px;line-height:1.4;max-width:{{ s.text_max_width }}ch;">{{ s.subheadline }}</p>
    {% endif %}
    {% if s.show_ctas %}
      <div class="hero-banner-agg__ctas" style="display:flex;flex-wrap:wrap;gap:0.75rem;justify-content:{{ flex_align }};">
        {% if s.cta_link and s.cta_text != blank %}
          <a href="{{ s.cta_link }}" class="btn" style="background:{{ s.cta_bg }};color:{{ s.cta_color }};padding:0.9rem 1.8rem;border-radius:{{ s.button_radius }}px;text-decoration:none;font-weight:600;">{{ s.cta_text }}</a>
        {% endif %}
        {% if s.cta_link_2 and s.cta_text_2 != blank %}
          <a href="{{ s.cta_link_2 }}" class="btn" style="background:{{ s.cta2_bg }};color:{{ s.cta2_color }};padding:0.9rem 1.8rem;border-radius:{{ s.button_radius }}px;text-decoration:none;font-weight:600;">{{ s.cta_text_2 }}</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
  {% if s.custom_css %}<style>{{ s.custom_css }}</style>{% endif %}
  {% if section.blocks.size > 1 %}
  <script>
    (function(){
      var root=document.getElementById('hero-slideshow-{{ section.id }}'); if(!root) return;
      var initialized = root.getAttribute('data-enhanced'); if(initialized) return; root.setAttribute('data-enhanced','true');
      var wrap=root.querySelector('.hero-banner-agg__slideshow'); if(!wrap) return;
      var slides=[].slice.call(root.querySelectorAll('.hero-banner-agg__slide'));
      if(slides.length<2) return; // nothing to do
      var dots=[].slice.call(root.querySelectorAll('.hero-banner-agg__dot'));
      var announcer = root.querySelector('[data-carousel-announcer]');
      var idx=0;
  var autoplayAttr = wrap.getAttribute('data-autoplay');
  var autoplay = (autoplayAttr==='' || autoplayAttr==='true' || autoplayAttr==='1');
  var interval = parseInt(wrap.getAttribute('data-interval'),10) || 5000;
      var loop = {{ s.loop_slides | default: true }};
      var pauseOnHover = {{ s.pause_on_hover | default: true }};
  var pointerStartX=null; var pointerDelta=0; var SWIPE_THRESHOLD=40;
      function setAria(oldI,newI){ if(dots[oldI]){dots[oldI].setAttribute('aria-selected','false');} if(dots[newI]){dots[newI].setAttribute('aria-selected','true');} if(announcer){announcer.textContent='Slide '+(newI+1)+' of '+slides.length;} }
      function show(i){ if(i===idx) return; var old=idx; if(i>=slides.length){ if(loop){ i=0;} else {return stop();} } if(i<0){ if(loop){ i=slides.length-1;} else {return;} } slides[old].classList.remove('is-active'); if(dots[old]) dots[old].classList.remove('is-active'); idx=i; slides[idx].classList.add('is-active'); if(dots[idx]) dots[idx].classList.add('is-active'); setAria(old,idx); }
      function nextSlide(){ show(idx+1); }
      function prevSlide(){ show(idx-1); }
  var hovering=false; var timer=null; var slideStart=Date.now(); var currentDuration=interval; var progress=root.querySelector('.hero-banner-agg__progressFill');
  function applyDuration(){ var durAttr = slides[idx].getAttribute('data-duration'); var d=parseInt(durAttr,10); if(!isNaN(d) && d>0){ currentDuration=d; } else { currentDuration=interval; } }
  applyDuration();
  function schedule(){ if(!autoplay || hovering) return; clearTimeout(timer); timer=setTimeout(function(){ nextSlide(); }, currentDuration); }
  function start(){ if(!autoplay) return; schedule(); }
  function stop(){ clearTimeout(timer); timer=null; }
  function rafTick(){ if(autoplay && !hovering){ var now=Date.now(); var elapsed = now - slideStart; var frac = elapsed / currentDuration; if(progress){ if(frac>1) frac=1; progress.style.transform='scaleX('+ frac +')'; } if(elapsed >= currentDuration){ nextSlide(); } } requestAnimationFrame(rafTick); }
  requestAnimationFrame(rafTick);
  start();
      // Event delegation for buttons & dots (resilient to re-render)
      wrap.addEventListener('click', function(e){
        var t=e.target;
        if(t.closest('[data-next]')){ e.preventDefault(); nextSlide(); start(); }
  else if(t.closest('[data-prev]')){ e.preventDefault(); prevSlide(); start(); }
  else if(t.classList.contains('hero-banner-agg__dot')){ e.preventDefault(); var n=parseInt(t.getAttribute('data-dot')); show(n); start(); }
      });
      dots.forEach(function(d){ d.setAttribute('tabindex','0'); d.addEventListener('keydown', function(e){ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); var n=parseInt(d.getAttribute('data-dot')); show(n); start(); }}); });
      if(pauseOnHover){
    root.addEventListener('mouseenter', function(){ hovering=true; stop(); }, {passive:true});
    root.addEventListener('mouseleave', function(){ hovering=false; start(); }, {passive:true});
      }
      root.setAttribute('tabindex','0');
      root.addEventListener('keydown', function(e){ if(e.key==='ArrowRight'){ e.preventDefault(); nextSlide(); start(); } else if(e.key==='ArrowLeft'){ e.preventDefault(); prevSlide(); start(); } });
      root.addEventListener('pointerdown', function(e){ pointerStartX=e.clientX; pointerDelta=0; });
      root.addEventListener('pointermove', function(e){ if(pointerStartX!=null){ pointerDelta=e.clientX-pointerStartX; }});
  root.addEventListener('pointerup', function(){ if(pointerStartX!=null){ if(Math.abs(pointerDelta)>SWIPE_THRESHOLD){ if(pointerDelta<0){ nextSlide(); } else { prevSlide(); } start(); } pointerStartX=null; pointerDelta=0; }});
  document.addEventListener('visibilitychange', function(){ if(document.hidden){ stop(); } else { setTimeout(function(){ start(); },120); } });
  root.__heroSlider = { next: nextSlide, prev: prevSlide, pause: function(){ autoplay=false; stop(); }, play: function(){ if(!autoplay){ autoplay=true; start(); } } };

  // Enhance show() to reset timers & progress (monkey patch after definition)
  var _showOrig = show; show = function(i){ var before = idx; _showOrig(i); if(before!==idx){ applyDuration(); slideStart=Date.now(); if(progress){ progress.style.transform='scaleX(0)'; } schedule(); } };
    })();
  </script>
  {% endif %}
</section>
{% comment %} SEO: Structured data for image gallery / single image {% endcomment %}
{% if section.blocks.size > 1 %}
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@type":"ImageGallery",
    "name": {{ s.headline | json }},
    "description": {{ s.subheadline | default: s.headline | json }},
    "image": [
      {% for block in section.blocks %}{% assign b = block.settings %}{% if b.slide_image %}{{ b.slide_image | image_url: width: 1600 | json }}{% if forloop.last == false %}, {% endif %}{% endif %}{% endfor %}
    ]
  }</script>
{% elsif section.blocks.size == 1 %}
  {% for block in section.blocks %}{% assign b = block.settings %}{% if b.slide_image %}
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@type":"ImageObject",
    "name": {{ s.headline | json }},
    "description": {{ s.subheadline | default: s.headline | json }},
    "contentUrl": {{ b.slide_image | image_url: width: 1600 | json }},
    "caption": {{ b.slide_alt | default: s.subheadline | default: s.headline | json }}
  }</script>
  {% endif %}{% endfor %}
{% endif %}
{% schema %}
{
  "name": "AGG Slideshow Hero",
  "tag": "section",
  "class": "section hero-banner-agg hero-banner-agg--slideshow",
  "settings": [
    {"type":"image_picker","id":"hero_image","label":"Fallback image"},
    {"type":"text","id":"image_alt","label":"Global fallback alt text"},
    {"type":"text","id":"headline","label":"Headline","default":"Explore Your Next Adventure"},
    {"type":"text","id":"subheadline","label":"Subheadline","default":"Premium gear curated for unforgettable getaways."},
    {"type":"text","id":"section_aria","label":"ARIA label override"},
    {"type":"select","id":"text_align","label":"Text alignment","options":[{"value":"left","label":"Left"},{"value":"center","label":"Center"},{"value":"right","label":"Right"}],"default":"center"},
    {"type":"range","id":"headline_size","label":"Headline size (px)","min":24,"max":120,"step":4,"default":72},
    {"type":"range","id":"subheadline_size","label":"Subheadline size (px)","min":12,"max":60,"step":2,"default":24},
    {"type":"range","id":"text_max_width","label":"Text max width (ch)","min":20,"max":80,"step":2,"default":60},
    {"type":"color","id":"headline_color","label":"Headline color","default":"#ffffff"},
    {"type":"color","id":"subheadline_color","label":"Subheadline color","default":"#ffffff"},
    {"type":"range","id":"padding_vertical","label":"Vertical padding (px)","min":0,"max":160,"step":8,"default":40},
    {"type":"range","id":"padding_horizontal","label":"Horizontal padding (px)","min":0,"max":160,"step":8,"default":40},
    {"type":"checkbox","id":"show_ctas","label":"Show global CTAs","default":true},
    {"type":"url","id":"cta_link","label":"Primary CTA link"},
    {"type":"text","id":"cta_text","label":"Primary CTA text","default":"Shop Now"},
    {"type":"color","id":"cta_bg","label":"Primary CTA background","default":"#ff6a1a"},
    {"type":"color","id":"cta_color","label":"Primary CTA text color","default":"#ffffff"},
    {"type":"url","id":"cta_link_2","label":"Secondary CTA link"},
    {"type":"text","id":"cta_text_2","label":"Secondary CTA text","default":"Learn More"},
    {"type":"color","id":"cta2_bg","label":"Secondary CTA background","default":"#004b80"},
    {"type":"color","id":"cta2_color","label":"Secondary CTA text color","default":"#ffffff"},
    {"type":"range","id":"button_radius","label":"Button radius","min":0,"max":32,"step":2,"default":6},
    {"type":"range","id":"top_spacing","label":"Top spacing (px)","min":0,"max":160,"step":8,"default":0},
  {"type":"range","id":"image_height","label":"Desktop height (px)","min":300,"max":1000,"step":20,"default":600},
  {"type":"range","id":"mobile_height","label":"Mobile height (px)","min":300,"max":900,"step":20,"default":480},
    {"type":"checkbox","id":"enable_overlay","label":"Enable color overlay","default":true},
    {"type":"color","id":"overlay_color","label":"Overlay color","default":"#000000"},
    {"type":"range","id":"overlay_opacity","label":"Overlay opacity","min":0,"max":100,"step":5,"unit":"%","default":35},
    {"type":"checkbox","id":"show_nav","label":"Show navigation arrows","default":true},
    {"type":"checkbox","id":"show_dots","label":"Show pagination dots","default":true},
    {"type":"checkbox","id":"show_progress_bar","label":"Show progress bar","default":true},
    {"type":"range","id":"progress_bar_height","label":"Progress bar height (px)","min":2,"max":12,"step":1,"default":4},
    {"type":"color","id":"progress_bar_color","label":"Progress bar color","default":"#ffffff"},
    {"type":"checkbox","id":"slideshow_autoplay","label":"Autoplay","default":true},
    {"type":"range","id":"slideshow_interval","label":"Default slide duration (s)","min":2,"max":15,"step":1,"default":5},
    {"type":"range","id":"transition_speed","label":"Fade transition (ms)","min":100,"max":2000,"step":50,"default":800},
    {"type":"checkbox","id":"pause_on_hover","label":"Pause on hover","default":true},
    {"type":"checkbox","id":"loop_slides","label":"Loop slides","default":true},
    {"type":"textarea","id":"custom_css","label":"Custom CSS"}
  ],
  "blocks": [
    {"type":"image","name":"Slide","settings":[
      {"type":"image_picker","id":"slide_image","label":"Image"},
      {"type":"text","id":"slide_alt","label":"Alt text"},
      {"type":"url","id":"slide_link","label":"Full-slide link"},
      {"type":"text","id":"slide_headline","label":"Slide headline"},
      {"type":"text","id":"slide_subheadline","label":"Slide subheadline"},
      {"type":"text","id":"slide_cta_text","label":"Slide CTA text"},
      {"type":"url","id":"slide_cta_link","label":"Slide CTA link"},
      {"type":"select","id":"slide_cta_variant","label":"Slide CTA variant","default":"primary","options":[{"value":"primary","label":"Primary"},{"value":"secondary","label":"Secondary"},{"value":"ghost","label":"Ghost"}]},
  {"type":"text","id":"slide_cta2_text","label":"Secondary CTA text"},
  {"type":"url","id":"slide_cta2_link","label":"Secondary CTA link"},
  {"type":"select","id":"slide_cta2_variant","label":"Secondary CTA variant","default":"secondary","options":[{"value":"primary","label":"Primary"},{"value":"secondary","label":"Secondary"},{"value":"ghost","label":"Ghost"}]},
  {"type":"select","id":"cta_size","label":"CTA size","default":"medium","options":[{"value":"small","label":"Small"},{"value":"medium","label":"Medium"},{"value":"large","label":"Large"}]},
  {"type":"range","id":"headline_size","label":"Headline size override (px)","min":0,"max":120,"step":2,"default":0,"info":"0 = inherit global"},
  {"type":"range","id":"subheadline_size","label":"Subheadline size override (px)","min":0,"max":80,"step":2,"default":0,"info":"0 = inherit global"},
  {"type":"color","id":"headline_color","label":"Headline color override"},
  {"type":"color","id":"subheadline_color","label":"Subheadline color override"},
  {"type":"range","id":"max_width_ch","label":"Max text width (ch)","min":0,"max":80,"step":2,"default":0,"info":"0 = inherit global"},
  {"type":"select","id":"headline_position","label":"Headline position","default":"mc","options":[{"value":"tl","label":"Top Left"},{"value":"tc","label":"Top Center"},{"value":"tr","label":"Top Right"},{"value":"ml","label":"Middle Left"},{"value":"mc","label":"Middle Center"},{"value":"mr","label":"Middle Right"},{"value":"bl","label":"Bottom Left"},{"value":"bc","label":"Bottom Center"},{"value":"br","label":"Bottom Right"}]},
  {"type":"select","id":"subheadline_position","label":"Subheadline position","default":"","options":[{"value":"","label":"Match Headline"},{"value":"tl","label":"Top Left"},{"value":"tc","label":"Top Center"},{"value":"tr","label":"Top Right"},{"value":"ml","label":"Middle Left"},{"value":"mc","label":"Middle Center"},{"value":"mr","label":"Middle Right"},{"value":"bl","label":"Bottom Left"},{"value":"bc","label":"Bottom Center"},{"value":"br","label":"Bottom Right"}]},
  {"type":"select","id":"ctas_position","label":"CTAs position","default":"","options":[{"value":"","label":"Match Headline"},{"value":"tl","label":"Top Left"},{"value":"tc","label":"Top Center"},{"value":"tr","label":"Top Right"},{"value":"ml","label":"Middle Left"},{"value":"mc","label":"Middle Center"},{"value":"mr","label":"Middle Right"},{"value":"bl","label":"Bottom Left"},{"value":"bc","label":"Bottom Center"},{"value":"br","label":"Bottom Right"}]},
  {"type":"select","id":"ctas_inline_align","label":"CTAs inline alignment","default":"center","options":[{"value":"start","label":"Start"},{"value":"center","label":"Center"},{"value":"end","label":"End"}]},
      {"type":"range","id":"slide_duration","label":"Custom duration (s)","min":0,"max":25,"step":1,"default":0,"info":"0 uses default duration"}
    ]}
  ],
  "max_blocks": 10,
  "presets": [
    {"name":"AGG Slideshow Hero","category":"Hero","blocks":[{"type":"image"},{"type":"image"},{"type":"image"}]}
  ]
}
{% endschema %}
